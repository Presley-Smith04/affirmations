<!doctype html>
<html lang="en">
  
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Affirmation Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <audio src="{{ url_for('static', filename='lofi.mp3') }}" ...>
  </head>
  <!-- evil mode angel mode buttons -->
  <button id="mode-toggle" class="mode-btn">ðŸ˜‡</button>
  <!-- mute buttons -->
  <button id="music-toggle" class="music-btn">ðŸ”‡</button>
  <body>
    <!-- music -->
    <audio id="background-music" loop>
      <source src="/static/lofi.mp3" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>
    <div class="container">
      <!-- buttons -->
      <div
        id="persistent-nav"
        style="
          display: flex;
          justify-content: center;
          gap: 20px;
          margin-bottom: 20px;
        "
      >
        <button onclick="goHome()" class="nav-btn">Home</button>
        <button onclick="showCategoryPage()" class="nav-btn">Categories</button>
      </div>

      <h1 style="font-size: 2.25rem;">Positive Affirmations</h1>

      <!-- name -->
      <div id="step-name">
        <input type="text" id="name" placeholder="Enter your name" />
        <br />
        <button
          class="nav-btn"
          style="margin-top: 3%"
          onclick="nextStep('name')"
        >
          Next
        </button>
      </div>

      <!-- mood -->
      <div id="step-mood" style="display: none">
        <p id="greeting"></p>
        <input type="text" id="mood" placeholder="Type your mood" />
        <br />
        <button
          class="nav-btn"
          style="margin-top: 3%"
          onclick="nextStep('mood')"
        >
          Next
        </button>
      </div>

      <!-- categories -->
      <div id="step-category" style="display: none">
        <p id="mood-suggestion" style="color: #f2f2f2; font-style: italic"></p>
        <div id="category-cards" class="category-grid"></div>
      </div>

      <!-- affirmation -->
      <div
        id="affirmation-wrapper"
        style="
          display: none;
          text-align: center;
          margin-top: 30px;
          max-width: 900px;
          margin-left: auto;
          margin-right: auto;
        "
      >
        <p
          id="affirmation-text"
          style="
            font-size: 3.5rem;
            color: #3d3939;
            max-width: 1300px;
            margin-left: auto;
            margin-right: auto;
          "
        ></p>
        <button
          onclick="generateAnother()"
          style="
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 1rem;
            background: #e0f7fa;
            border: none;
            border-radius: 8px;
          "
        >
          Generate Another
        </button>
      </div>
    </div>

    <div class="particles"></div>
        <script src="{{ url_for('static', filename='script.js') }}"></script>

    <script>
      const music = document.getElementById("background-music");
      const toggleBtn = document.getElementById("music-toggle");

      //not playing
      let isPlaying = false;

      toggleBtn.addEventListener("click", () => {
        if (!isPlaying) {
          music.play();
          toggleBtn.textContent = "ðŸ”Š";
          isPlaying = true;
        } else {
          music.pause();
          toggleBtn.textContent = "ðŸ”‡";
          isPlaying = false;
        }
      });
    </script>
  </body>
</html>
